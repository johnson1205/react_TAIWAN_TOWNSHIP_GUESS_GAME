{"ast":null,"code":"import _slicedToArray from\"C:/Users/johns/OneDrive/\\u684C\\u9762/practice/map/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./App.css';import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,useMap}from'react-leaflet';import{Map,GeoJSON}from'react-leaflet/GeoJSON';import mapdata from\"./geo.json\";import{color}from'd3';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){//./TOWN_MOI_1120317.json\n/*\n  const geoEvent = (mapdata.features, layer) => {\n\n  };\n  */ /*\n      <TileLayer\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      */var useState=React.useState;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),bingoMessage=_useState2[0],setBingoMessage=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),isBingoWaiting=_useState4[0],setIsBingoWaiting=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),selectedTownName=_useState6[0],setSelectedTownName=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),randomQuetion=_useState8[0],setRandomQuetion=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),score=_useState10[0],setScore=_useState10[1];useEffect(function(){var keys=Object.keys(mapdata.features);var randIndex=Math.floor(Math.random()*keys.length);setRandomQuetion(randomQuetion=mapdata.features[randIndex].properties.TOWNNAME);},[]);var bingoAction=function bingoAction(){var keys=Object.keys(mapdata.features);var randIndex=Math.floor(Math.random()*keys.length);setRandomQuetion(randomQuetion=mapdata.features[randIndex].properties.TOWNNAME);setScore(score=score+1);setSelectedTownName(selectedTownName=\"\");setIsBingoWaiting(isBingoWaiting=0);setBingoMessage(bingoMessage=\"\");};var mapFeature=function mapFeature(country,layer){layer.on({mouseover:function mouseover(e){e.target.setStyle({fillOpacity:0.5});},mouseout:function mouseout(e){e.target.setStyle({fillOpacity:1});},click:function click(e){if(randomQuetion===e.sourceTarget.feature.properties.TOWNNAME&&isBingoWaiting===0){setSelectedTownName(selectedTownName=e.sourceTarget.feature.properties.TOWNNAME);setIsBingoWaiting(isBingoWaiting=1);setBingoMessage(bingoMessage=\"答對\");setTimeout(bingoAction,1000);}else if(isBingoWaiting===0){setSelectedTownName(selectedTownName=e.sourceTarget.feature.properties.TOWNNAME);}}});};var mapStyle={weight:1,fillOpacity:1,fillColor:\"rgb(128, 206, 197)\",color:\"rgb(230,230,230)\"};var mapBound=[[26.504979796639104,116.100698791452],[20.67667721806277,125.49054604625438]];return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(MapContainer,{center:[23.6,120.9738819],zoom:7,minZoom:7,maxBounds:mapBound,children:/*#__PURE__*/_jsx(GeoJSON,{style:mapStyle,data:mapdata,onEachFeature:mapFeature})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right\",align:\"center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upper\",children:[\"\\u984C\\u76EE\\uFF1A\",randomQuetion]}),/*#__PURE__*/_jsxs(\"div\",{className:\"middle\",children:[\"\\u6240\\u9078\\u64C7\\u7684\\u5340\\u57DF\\uFF1A\",selectedTownName]}),/*#__PURE__*/_jsxs(\"div\",{className:\"score\",children:[\"\\u5206\\u6578\\uFF1A\",/*#__PURE__*/_jsx(\"b\",{children:score})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bingoMessage\",children:bingoMessage})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","useMap","Map","GeoJSON","mapdata","color","jsx","_jsx","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","bingoMessage","setBingoMessage","_useState3","_useState4","isBingoWaiting","setIsBingoWaiting","_useState5","_useState6","selectedTownName","setSelectedTownName","_useState7","_useState8","randomQuetion","setRandomQuetion","_useState9","_useState10","score","setScore","keys","Object","features","randIndex","Math","floor","random","length","properties","TOWNNAME","bingoAction","mapFeature","country","layer","on","mouseover","e","target","setStyle","fillOpacity","mouseout","click","sourceTarget","feature","setTimeout","mapStyle","weight","fillColor","mapBound","className","children","center","zoom","minZoom","maxBounds","style","data","onEachFeature","align"],"sources":["C:/Users/johns/OneDrive/桌面/practice/map/src/App.js"],"sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, useMap } from 'react-leaflet'\nimport { Map, GeoJSON } from 'react-leaflet/GeoJSON'\nimport mapdata from \"./geo.json\"\nimport { color } from 'd3';\n\n\nfunction App() {\n  //./TOWN_MOI_1120317.json\n  /*\n  const geoEvent = (mapdata.features, layer) => {\n\n  };\n  */\n  /*\n      <TileLayer\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        url=\"https://tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      />\n      */\n  const {useState} = React;\n  let [bingoMessage, setBingoMessage] = useState(\"\");\n  let [isBingoWaiting, setIsBingoWaiting] = useState(0);\n  let [selectedTownName, setSelectedTownName] = useState();\n  let [randomQuetion, setRandomQuetion] = useState();\n  let [score, setScore] = useState(0);\n\n  useEffect(()=>{\n    const keys = Object.keys(mapdata.features);\n    const randIndex = Math.floor(Math.random() * keys.length);\n    setRandomQuetion(randomQuetion=mapdata.features[randIndex].properties.TOWNNAME);\n  },[]);\n  \n  const bingoAction = () => {\n    const keys = Object.keys(mapdata.features);\n    const randIndex = Math.floor(Math.random() * keys.length);\n    setRandomQuetion(randomQuetion=mapdata.features[randIndex].properties.TOWNNAME);\n    setScore(score=score+1);\n    setSelectedTownName(selectedTownName=\"\");\n    setIsBingoWaiting(isBingoWaiting=0);\n    setBingoMessage(bingoMessage=\"\")\n  }\n  \n  const mapFeature=(country, layer)=>{\n    layer.on({\n      mouseover: (e) => {\n        e.target.setStyle({\n          fillOpacity: 0.5,\n        });\n      },\n      mouseout: (e) => {\n        e.target.setStyle({\n          fillOpacity: 1,\n        });\n      },\n      click: (e) => {\n        if((randomQuetion===e.sourceTarget.feature.properties.TOWNNAME)&&(isBingoWaiting===0)){\n          setSelectedTownName(selectedTownName=e.sourceTarget.feature.properties.TOWNNAME);\n          setIsBingoWaiting(isBingoWaiting=1);\n          setBingoMessage(bingoMessage=\"答對\")\n          setTimeout(bingoAction,1000);\n        }\n        else if(isBingoWaiting===0){\n          setSelectedTownName(selectedTownName=e.sourceTarget.feature.properties.TOWNNAME);\n        }\n      }\n      \n    });\n  }\n  const mapStyle={\n    weight: 1,\n    fillOpacity: 1,\n    fillColor: \"rgb(128, 206, 197)\",\n    color: \"rgb(230,230,230)\",\n  };\n\n  const mapBound =[\n    [26.504979796639104, 116.100698791452],\n    [20.67667721806277, 125.49054604625438],\n  ]\n\n  return (\n    <div className='container'>\n      <MapContainer center={[23.6, 120.9738819]} zoom={7} minZoom={7} maxBounds={mapBound}>\n      <GeoJSON style={mapStyle} data={mapdata} onEachFeature={mapFeature}></GeoJSON>\n      </MapContainer>\n      <div className='right' align=\"center\">\n        <div className='upper'>題目：{randomQuetion}</div>\n        <div className='middle'>所選擇的區域：{selectedTownName}</div>\n        <div className='score'>分數：<b>{score}</b></div>\n        <div className='bingoMessage'>{bingoMessage}</div>\n      </div>\n    </div>\n  ); \n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}