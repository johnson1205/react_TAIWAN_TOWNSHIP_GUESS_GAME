{"ast":null,"code":"// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function (arcs) {\n  var i = -1,\n    n = arcs.length;\n  while (++i < n) {\n    var arc = arcs[i],\n      j = 0,\n      k = 1,\n      m = arc.length,\n      point = arc[0],\n      x0 = point[0],\n      y0 = point[1],\n      x1,\n      y1;\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n  return arcs;\n}","map":{"version":3,"names":["arcs","i","n","length","arc","j","k","m","point","x0","y0","x1","y1"],"sources":["C:/Users/johns/OneDrive/桌面/practice/map/node_modules/topojson-server/src/delta.js"],"sourcesContent":["// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n"],"mappings":"AAAA;AACA;AACA;AACA,eAAe,UAASA,IAAI,EAAE;EAC5B,IAAIC,CAAC,GAAG,CAAC,CAAC;IACNC,CAAC,GAAGF,IAAI,CAACG,MAAM;EAEnB,OAAO,EAAEF,CAAC,GAAGC,CAAC,EAAE;IACd,IAAIE,GAAG,GAAGJ,IAAI,CAACC,CAAC,CAAC;MACbI,CAAC,GAAG,CAAC;MACLC,CAAC,GAAG,CAAC;MACLC,CAAC,GAAGH,GAAG,CAACD,MAAM;MACdK,KAAK,GAAGJ,GAAG,CAAC,CAAC,CAAC;MACdK,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAC;MACbE,EAAE,GAAGF,KAAK,CAAC,CAAC,CAAC;MACbG,EAAE;MACFC,EAAE;IAEN,OAAO,EAAEP,CAAC,GAAGE,CAAC,EAAE;MACdC,KAAK,GAAGJ,GAAG,CAACC,CAAC,CAAC,EAAEM,EAAE,GAAGH,KAAK,CAAC,CAAC,CAAC,EAAEI,EAAE,GAAGJ,KAAK,CAAC,CAAC,CAAC;MAC5C,IAAIG,EAAE,KAAKF,EAAE,IAAIG,EAAE,KAAKF,EAAE,EAAEN,GAAG,CAACE,CAAC,EAAE,CAAC,GAAG,CAACK,EAAE,GAAGF,EAAE,EAAEG,EAAE,GAAGF,EAAE,CAAC,EAAED,EAAE,GAAGE,EAAE,EAAED,EAAE,GAAGE,EAAE;IAC7E;IAEA,IAAIN,CAAC,KAAK,CAAC,EAAEF,GAAG,CAACE,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;IAEhCF,GAAG,CAACD,MAAM,GAAGG,CAAC;EAChB;EAEA,OAAON,IAAI;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}