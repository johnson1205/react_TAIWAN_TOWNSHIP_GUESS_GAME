{"ast":null,"code":"import _objectSpread from \"C:/Users/johns/OneDrive/\\u684C\\u9762/practice/map/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/Users/johns/OneDrive/\\u684C\\u9762/practice/map/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"C:/Users/johns/OneDrive/\\u684C\\u9762/practice/map/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _toPropertyKey from \"C:/Users/johns/OneDrive/\\u684C\\u9762/practice/map/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\";\nimport { LeafletProvider, addClassName, useLeafletContext } from '@react-leaflet/core';\nimport React, { forwardRef, useState, useEffect, useImperativeHandle, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nvar DEFAULT_PANES = ['mapPane', 'markerPane', 'overlayPane', 'popupPane', 'shadowPane', 'tilePane', 'tooltipPane'];\nfunction omitPane(obj, pane) {\n  var _p = obj[pane],\n    others = _objectWithoutProperties(obj, [pane].map(_toPropertyKey));\n  return others;\n}\nfunction createPane(name, props, context) {\n  var _props$pane;\n  if (DEFAULT_PANES.indexOf(name) !== -1) {\n    throw new Error(\"You must use a unique name for a pane that is not a default Leaflet pane: \".concat(name));\n  }\n  if (context.map.getPane(name) != null) {\n    throw new Error(\"A pane with this name already exists: \".concat(name));\n  }\n  var parentPaneName = (_props$pane = props.pane) !== null && _props$pane !== void 0 ? _props$pane : context.pane;\n  var parentPane = parentPaneName ? context.map.getPane(parentPaneName) : undefined;\n  var element = context.map.createPane(name, parentPane);\n  if (props.className != null) {\n    addClassName(element, props.className);\n  }\n  if (props.style != null) {\n    Object.keys(props.style).forEach(function (key) {\n      // @ts-ignore\n      element.style[key] = props.style[key];\n    });\n  }\n  return element;\n}\nfunction PaneComponent(props, forwardedRef) {\n  var _useState = useState(props.name),\n    _useState2 = _slicedToArray(_useState, 1),\n    paneName = _useState2[0];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    paneElement = _useState4[0],\n    setPaneElement = _useState4[1];\n  useImperativeHandle(forwardedRef, function () {\n    return paneElement;\n  }, [paneElement]);\n  var context = useLeafletContext();\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  var newContext = useMemo(function () {\n    return _objectSpread(_objectSpread({}, context), {}, {\n      pane: paneName\n    });\n  }, [context]);\n  useEffect(function () {\n    setPaneElement(createPane(paneName, props, context));\n    return function removeCreatedPane() {\n      var _pane$remove;\n      var pane = context.map.getPane(paneName);\n      pane === null || pane === void 0 ? void 0 : (_pane$remove = pane.remove) === null || _pane$remove === void 0 ? void 0 : _pane$remove.call(pane);\n      // @ts-ignore map internals\n      if (context.map._panes != null) {\n        // @ts-ignore map internals\n        context.map._panes = omitPane(context.map._panes, paneName);\n        // @ts-ignore map internals\n        context.map._paneRenderers = omitPane(\n        // @ts-ignore map internals\n        context.map._paneRenderers, paneName);\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return props.children != null && paneElement != null ? /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(LeafletProvider, {\n    value: newContext\n  }, props.children), paneElement) : null;\n}\nexport var Pane = /*#__PURE__*/forwardRef(PaneComponent);","map":{"version":3,"names":["LeafletProvider","addClassName","useLeafletContext","React","forwardRef","useState","useEffect","useImperativeHandle","useMemo","createPortal","DEFAULT_PANES","omitPane","obj","pane","_p","others","_objectWithoutProperties","map","_toPropertyKey","createPane","name","props","context","_props$pane","indexOf","Error","concat","getPane","parentPaneName","parentPane","undefined","element","className","style","Object","keys","forEach","key","PaneComponent","forwardedRef","_useState","_useState2","_slicedToArray","paneName","_useState3","_useState4","paneElement","setPaneElement","newContext","_objectSpread","removeCreatedPane","_pane$remove","remove","call","_panes","_paneRenderers","children","createElement","value","Pane"],"sources":["C:/Users/johns/OneDrive/桌面/practice/map/node_modules/react-leaflet/lib/Pane.js"],"sourcesContent":["import { LeafletProvider, addClassName, useLeafletContext } from '@react-leaflet/core';\nimport React, { forwardRef, useState, useEffect, useImperativeHandle, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\nconst DEFAULT_PANES = [\n    'mapPane',\n    'markerPane',\n    'overlayPane',\n    'popupPane',\n    'shadowPane',\n    'tilePane',\n    'tooltipPane'\n];\nfunction omitPane(obj, pane) {\n    const { [pane]: _p , ...others } = obj;\n    return others;\n}\nfunction createPane(name, props, context) {\n    if (DEFAULT_PANES.indexOf(name) !== -1) {\n        throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${name}`);\n    }\n    if (context.map.getPane(name) != null) {\n        throw new Error(`A pane with this name already exists: ${name}`);\n    }\n    const parentPaneName = props.pane ?? context.pane;\n    const parentPane = parentPaneName ? context.map.getPane(parentPaneName) : undefined;\n    const element = context.map.createPane(name, parentPane);\n    if (props.className != null) {\n        addClassName(element, props.className);\n    }\n    if (props.style != null) {\n        Object.keys(props.style).forEach((key)=>{\n            // @ts-ignore\n            element.style[key] = props.style[key];\n        });\n    }\n    return element;\n}\nfunction PaneComponent(props, forwardedRef) {\n    const [paneName] = useState(props.name);\n    const [paneElement, setPaneElement] = useState(null);\n    useImperativeHandle(forwardedRef, ()=>paneElement, [\n        paneElement\n    ]);\n    const context = useLeafletContext();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const newContext = useMemo(()=>({\n            ...context,\n            pane: paneName\n        }), [\n        context\n    ]);\n    useEffect(()=>{\n        setPaneElement(createPane(paneName, props, context));\n        return function removeCreatedPane() {\n            const pane = context.map.getPane(paneName);\n            pane?.remove?.();\n            // @ts-ignore map internals\n            if (context.map._panes != null) {\n                // @ts-ignore map internals\n                context.map._panes = omitPane(context.map._panes, paneName);\n                // @ts-ignore map internals\n                context.map._paneRenderers = omitPane(// @ts-ignore map internals\n                context.map._paneRenderers, paneName);\n            }\n        };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return props.children != null && paneElement != null ? /*#__PURE__*/ createPortal(/*#__PURE__*/ React.createElement(LeafletProvider, {\n        value: newContext\n    }, props.children), paneElement) : null;\n}\nexport const Pane = /*#__PURE__*/ forwardRef(PaneComponent);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}