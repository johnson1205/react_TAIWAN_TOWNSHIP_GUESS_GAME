{"ast":null,"code":"export default function (size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n    mask = size - 1;\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n  function add(value) {\n    var index = hash(value) & mask,\n      match = store[index],\n      collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = index + 1 & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n  function has(value) {\n    var index = hash(value) & mask,\n      match = store[index],\n      collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = index + 1 & mask];\n    }\n    return false;\n  }\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}","map":{"version":3,"names":["size","hash","equal","type","empty","arguments","length","Array","store","Math","max","ceil","log","LN2","mask","i","add","value","index","match","collisions","Error","has","values","n","push"],"sources":["C:/Users/johns/OneDrive/桌面/practice/map/node_modules/topojson-server/src/hash/hashset.js"],"sourcesContent":["export default function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}\n"],"mappings":"AAAA,eAAe,UAASA,IAAI,EAAEC,IAAI,EAAEC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAE;EACtD,IAAIC,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;IAC1BH,IAAI,GAAGI,KAAK;IACZH,KAAK,GAAG,IAAI;EACd;EAEA,IAAII,KAAK,GAAG,IAAIL,IAAI,CAACH,IAAI,GAAG,CAAC,IAAIS,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACE,IAAI,CAACF,IAAI,CAACG,GAAG,CAACZ,IAAI,CAAC,GAAGS,IAAI,CAACI,GAAG,CAAC,CAAC,CAAC;IAC/EC,IAAI,GAAGd,IAAI,GAAG,CAAC;EAEnB,KAAK,IAAIe,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGf,IAAI,EAAE,EAAEe,CAAC,EAAE;IAC7BP,KAAK,CAACO,CAAC,CAAC,GAAGX,KAAK;EAClB;EAEA,SAASY,GAAGA,CAACC,KAAK,EAAE;IAClB,IAAIC,KAAK,GAAGjB,IAAI,CAACgB,KAAK,CAAC,GAAGH,IAAI;MAC1BK,KAAK,GAAGX,KAAK,CAACU,KAAK,CAAC;MACpBE,UAAU,GAAG,CAAC;IAClB,OAAOD,KAAK,IAAIf,KAAK,EAAE;MACrB,IAAIF,KAAK,CAACiB,KAAK,EAAEF,KAAK,CAAC,EAAE,OAAO,IAAI;MACpC,IAAI,EAAEG,UAAU,IAAIpB,IAAI,EAAE,MAAM,IAAIqB,KAAK,CAAC,cAAc,CAAC;MACzDF,KAAK,GAAGX,KAAK,CAACU,KAAK,GAAIA,KAAK,GAAG,CAAC,GAAIJ,IAAI,CAAC;IAC3C;IACAN,KAAK,CAACU,KAAK,CAAC,GAAGD,KAAK;IACpB,OAAO,IAAI;EACb;EAEA,SAASK,GAAGA,CAACL,KAAK,EAAE;IAClB,IAAIC,KAAK,GAAGjB,IAAI,CAACgB,KAAK,CAAC,GAAGH,IAAI;MAC1BK,KAAK,GAAGX,KAAK,CAACU,KAAK,CAAC;MACpBE,UAAU,GAAG,CAAC;IAClB,OAAOD,KAAK,IAAIf,KAAK,EAAE;MACrB,IAAIF,KAAK,CAACiB,KAAK,EAAEF,KAAK,CAAC,EAAE,OAAO,IAAI;MACpC,IAAI,EAAEG,UAAU,IAAIpB,IAAI,EAAE;MAC1BmB,KAAK,GAAGX,KAAK,CAACU,KAAK,GAAIA,KAAK,GAAG,CAAC,GAAIJ,IAAI,CAAC;IAC3C;IACA,OAAO,KAAK;EACd;EAEA,SAASS,MAAMA,CAAA,EAAG;IAChB,IAAIA,MAAM,GAAG,EAAE;IACf,KAAK,IAAIR,CAAC,GAAG,CAAC,EAAES,CAAC,GAAGhB,KAAK,CAACF,MAAM,EAAES,CAAC,GAAGS,CAAC,EAAE,EAAET,CAAC,EAAE;MAC5C,IAAII,KAAK,GAAGX,KAAK,CAACO,CAAC,CAAC;MACpB,IAAII,KAAK,IAAIf,KAAK,EAAEmB,MAAM,CAACE,IAAI,CAACN,KAAK,CAAC;IACxC;IACA,OAAOI,MAAM;EACf;EAEA,OAAO;IACLP,GAAG,EAAEA,GAAG;IACRM,GAAG,EAAEA,GAAG;IACRC,MAAM,EAAEA;EACV,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}