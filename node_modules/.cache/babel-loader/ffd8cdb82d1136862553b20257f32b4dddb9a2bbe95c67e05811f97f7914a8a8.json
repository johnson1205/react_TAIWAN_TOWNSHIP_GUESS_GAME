{"ast":null,"code":"export default function (topology, p) {\n  var array = [];\n  topology.arcs.forEach(function (arc) {\n    arc.forEach(function (point) {\n      if (isFinite(point[2])) {\n        // Ignore endpoints, whose weight is Infinity.\n        array.push(point[2]);\n      }\n    });\n  });\n  return array.length && quantile(array.sort(descending), p);\n}\nfunction quantile(array, p) {\n  if (!(n = array.length)) return;\n  if ((p = +p) <= 0 || n < 2) return array[0];\n  if (p >= 1) return array[n - 1];\n  var n,\n    h = (n - 1) * p,\n    i = Math.floor(h),\n    a = array[i],\n    b = array[i + 1];\n  return a + (b - a) * (h - i);\n}\nfunction descending(a, b) {\n  return b - a;\n}","map":{"version":3,"names":["topology","p","array","arcs","forEach","arc","point","isFinite","push","length","quantile","sort","descending","n","h","i","Math","floor","a","b"],"sources":["C:/Users/johns/OneDrive/桌面/practice/map/node_modules/topojson-simplify/src/quantile.js"],"sourcesContent":["export default function(topology, p) {\n  var array = [];\n\n  topology.arcs.forEach(function(arc) {\n    arc.forEach(function(point) {\n      if (isFinite(point[2])) { // Ignore endpoints, whose weight is Infinity.\n        array.push(point[2]);\n      }\n    });\n  });\n\n  return array.length && quantile(array.sort(descending), p);\n}\n\nfunction quantile(array, p) {\n  if (!(n = array.length)) return;\n  if ((p = +p) <= 0 || n < 2) return array[0];\n  if (p >= 1) return array[n - 1];\n  var n,\n      h = (n - 1) * p,\n      i = Math.floor(h),\n      a = array[i],\n      b = array[i + 1];\n  return a + (b - a) * (h - i);\n}\n\nfunction descending(a, b) {\n  return b - a;\n}\n"],"mappings":"AAAA,eAAe,UAASA,QAAQ,EAAEC,CAAC,EAAE;EACnC,IAAIC,KAAK,GAAG,EAAE;EAEdF,QAAQ,CAACG,IAAI,CAACC,OAAO,CAAC,UAASC,GAAG,EAAE;IAClCA,GAAG,CAACD,OAAO,CAAC,UAASE,KAAK,EAAE;MAC1B,IAAIC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE;QAAE;QACxBJ,KAAK,CAACM,IAAI,CAACF,KAAK,CAAC,CAAC,CAAC,CAAC;MACtB;IACF,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAOJ,KAAK,CAACO,MAAM,IAAIC,QAAQ,CAACR,KAAK,CAACS,IAAI,CAACC,UAAU,CAAC,EAAEX,CAAC,CAAC;AAC5D;AAEA,SAASS,QAAQA,CAACR,KAAK,EAAED,CAAC,EAAE;EAC1B,IAAI,EAAEY,CAAC,GAAGX,KAAK,CAACO,MAAM,CAAC,EAAE;EACzB,IAAI,CAACR,CAAC,GAAG,CAACA,CAAC,KAAK,CAAC,IAAIY,CAAC,GAAG,CAAC,EAAE,OAAOX,KAAK,CAAC,CAAC,CAAC;EAC3C,IAAID,CAAC,IAAI,CAAC,EAAE,OAAOC,KAAK,CAACW,CAAC,GAAG,CAAC,CAAC;EAC/B,IAAIA,CAAC;IACDC,CAAC,GAAG,CAACD,CAAC,GAAG,CAAC,IAAIZ,CAAC;IACfc,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,CAAC;IACjBI,CAAC,GAAGhB,KAAK,CAACa,CAAC,CAAC;IACZI,CAAC,GAAGjB,KAAK,CAACa,CAAC,GAAG,CAAC,CAAC;EACpB,OAAOG,CAAC,GAAG,CAACC,CAAC,GAAGD,CAAC,KAAKJ,CAAC,GAAGC,CAAC,CAAC;AAC9B;AAEA,SAASH,UAAUA,CAACM,CAAC,EAAEC,CAAC,EAAE;EACxB,OAAOA,CAAC,GAAGD,CAAC;AACd"},"metadata":{},"sourceType":"module","externalDependencies":[]}